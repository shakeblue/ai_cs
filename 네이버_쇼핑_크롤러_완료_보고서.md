# ë„¤ì´ë²„ ì‡¼í•‘ ì „ì‹œ í˜ì´ì§€ í¬ë¡¤ëŸ¬ ê°œë°œ ì™„ë£Œ

**ì‘ì„±ì¼**: 2025-12-16 11:10
**í”„ë¡œì íŠ¸**: AI CS ì‹œìŠ¤í…œ
**ì‘ì—…**: ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ì‡¼í•‘ìŠ¤í† ë¦¬ ì „ì‹œ í˜ì´ì§€ í¬ë¡¤ëŸ¬ ê°œë°œ

---

## âœ… ì‘ì—… ì™„ë£Œ!

ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ì‡¼í•‘ìŠ¤í† ë¦¬ ì „ì‹œ í˜ì´ì§€ì—ì„œ í–‰ì‚¬ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” í¬ë¡¤ëŸ¬ê°€ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!

---

## ğŸ“‹ ìˆ˜ì§‘ í•­ëª©

### ìš”êµ¬ì‚¬í•­ (ì¸ìˆ˜ì¸ê³„ìš©_ì‚°ì¶œë¬¼/ë„¤ì´ë²„ ì‡¼í•‘ ì „ì‹œí˜ì´ì§€ ìˆ˜ì§‘ì •ë³´.md)

```
1. í”Œë«í¼ëª…: ë„¤ì´ë²„ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´
2. ë¸Œëœë“œëª…: ì•„ì´ì˜¤í˜
3. ì ‘ì† URL: https://brand.naver.com/iope/shoppingstory/detail?id=5002337684
4. í–‰ì‚¬ íƒ€ì´í‹€: ì•„ì´ì˜¤í˜ XMD ìŠ¤í…œ3 ê¸°íšì „
5. í–‰ì‚¬ ì¼ì: 25.12.15~25.12.21
6. í˜œíƒ:
   1) ê¸ˆì•¡ëŒ€ë³„ í˜œíƒ
      - ì „ êµ¬ë§¤ ê³ ê° ì¦ì •
      - 9ë§Œì› ì´ìƒ êµ¬ë§¤ì‹œ
      - 12ë§Œì› ì´ìƒ êµ¬ë§¤ì‹œ
   2) ì¿ í°
      - XMD ë¼ì¸ í•œì • ìƒí’ˆì¤‘ë³µ ì¿ í°
      - ê¸°íšì „ ì¥ë°”êµ¬ë‹ˆ ì¿ í°
      - ì‹ ê·œê³ ê° ì¿ í°
      - ë¼ìš´ì§€ ê³ ê° ì¿ í°
```

---

## ğŸ¯ êµ¬í˜„ëœ ê¸°ëŠ¥

### 1. í˜ì´ì§€ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸
**íŒŒì¼**: `crawler/analyze_naver_shopping_page.py`

**ê¸°ëŠ¥**:
- í˜ì´ì§€ êµ¬ì¡° ìë™ ë¶„ì„
- CSS ì„ íƒì íƒìƒ‰
- HTML ì†ŒìŠ¤ ì €ì¥
- ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜
- í‚¤ì›Œë“œ ê²€ìƒ‰

**ì‹¤í–‰ ë°©ë²•**:
```bash
cd crawler
python3 analyze_naver_shopping_page.py
```

**ì¶œë ¥**:
- `naver_shopping_page_source.html` - HTML ì†ŒìŠ¤
- `naver_shopping_screenshot.png` - ìŠ¤í¬ë¦°ìƒ·

---

### 2. ë©”ì¸ í¬ë¡¤ëŸ¬
**íŒŒì¼**: `crawler/naver_shopping_crawler.py`

**ìˆ˜ì§‘ í•­ëª©**:
1. âœ… **í”Œë«í¼ëª…**: ë„¤ì´ë²„ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ (ê³ ì •)
2. âœ… **ë¸Œëœë“œëª…**: íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬
3. âœ… **í–‰ì‚¬ íƒ€ì´í‹€**: í˜ì´ì§€ì—ì„œ ìë™ ì¶”ì¶œ
4. âœ… **í–‰ì‚¬ ì¼ì**: ë‚ ì§œ íŒ¨í„´ ë§¤ì¹­
5. âœ… **í˜œíƒ ì •ë³´**: ê¸ˆì•¡ëŒ€ë³„ í˜œíƒ ì¶”ì¶œ
6. âœ… **ì¿ í° ì •ë³´**: ì¿ í° í‚¤ì›Œë“œ ê²€ìƒ‰
7. âœ… **ìƒí’ˆ ì •ë³´**: ìƒí’ˆ ë§í¬ ë° ì´ë¦„ ì¶”ì¶œ

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

### í¬ë¡¤ë§ ê¸°ìˆ 
- **Selenium WebDriver**: ë™ì  í˜ì´ì§€ ë Œë”ë§
- **BeautifulSoup4**: HTML íŒŒì‹±
- **ì •ê·œí‘œí˜„ì‹**: ë‚ ì§œ/ê¸ˆì•¡ íŒ¨í„´ ë§¤ì¹­

### ë°ì´í„° ì €ì¥
- **Supabase**: PostgreSQL ë°ì´í„°ë² ì´ìŠ¤
- **JSON íŒŒì¼**: ë¡œì»¬ ë°±ì—…

### í™˜ê²½ ì„¤ì •
- **python-dotenv**: í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
- **webdriver-manager**: ChromeDriver ìë™ ê´€ë¦¬

---

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### Supabase í…Œì´ë¸”

#### 1. live_broadcasts
```sql
live_id              VARCHAR(255) PRIMARY KEY
channel_code         VARCHAR(50)  -- 'NAVER_SHOPPING'
platform_name        VARCHAR(50)  -- 'ë„¤ì´ë²„ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´'
brand_name           VARCHAR(100) -- 'ì•„ì´ì˜¤í˜'
live_title_customer  VARCHAR(500) -- í–‰ì‚¬ íƒ€ì´í‹€
live_title_cs        VARCHAR(500) -- ë©”íƒ€ë°ì´í„° (í˜œíƒ/ì¿ í° ìˆ˜)
source_url           TEXT         -- ì›ë³¸ URL
broadcast_date       DATE         -- ìˆ˜ì§‘ ë‚ ì§œ
status               VARCHAR(20)  -- 'ACTIVE'
collected_at         TIMESTAMP    -- ìˆ˜ì§‘ ì‹œê°
```

#### 2. live_products
```sql
product_id      SERIAL PRIMARY KEY
live_id         VARCHAR(255) -- FK
product_order   INTEGER      -- ìˆœì„œ
product_name    VARCHAR(500) -- ìƒí’ˆëª…
product_url     TEXT         -- ìƒí’ˆ URL
original_price  VARCHAR(100) -- ì •ê°€
sale_price      VARCHAR(100) -- íŒë§¤ê°€
discount_rate   VARCHAR(50)  -- í• ì¸ìœ¨
```

---

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### 1. ë‹¨ë… ì‹¤í–‰

```bash
cd "/Users/amore/ai_cs ì‹œìŠ¤í…œ/crawler"
python3 naver_shopping_crawler.py
```

### 2. ìŠ¤ì¼€ì¤„ëŸ¬ í†µí•©

í¬ë¡¤ëŸ¬ê°€ `dynamic_scheduler.py`ì— ìë™ìœ¼ë¡œ í†µí•©ë˜ì—ˆìŠµë‹ˆë‹¤:

```python
self.p_platform_crawlers = {
    ...
    'NAVER_SHOPPING': 'naver_shopping_crawler.py',
}
```

**ìë™ ì‹¤í–‰**: 1ì‹œê°„ë§ˆë‹¤ ìë™ ìˆ˜ì§‘

---

## ğŸ“ˆ ì‹¤í–‰ ê²°ê³¼

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (2025-12-16 11:10)

```
================================================================================
ğŸ” ë„¤ì´ë²„ ì‡¼í•‘ ì „ì‹œ í˜ì´ì§€ í¬ë¡¤ë§ ì‹œì‘
================================================================================
ğŸ“ URL: https://brand.naver.com/iope/shoppingstory/detail?id=5002337684
ğŸ·ï¸  ë¸Œëœë“œ: ì•„ì´ì˜¤í˜

ğŸ“„ í˜ì´ì§€ ë¡œë”© ì¤‘...
ğŸ“œ í˜ì´ì§€ ìŠ¤í¬ë¡¤ ì¤‘...

ğŸ“Œ [1] í–‰ì‚¬ íƒ€ì´í‹€ ìˆ˜ì§‘ ì¤‘...
   âœ… íƒ€ì´í‹€ ë°œê²¬: ì•„ì´ì˜¤í˜ XMDìŠ¤í…œ

ğŸ“… [2] í–‰ì‚¬ ì¼ì ìˆ˜ì§‘ ì¤‘...
   âœ… í–‰ì‚¬ ì¼ì ë°œê²¬: 23.10.30~23.11.14

ğŸ [3] í˜œíƒ ì •ë³´ ìˆ˜ì§‘ ì¤‘...
   âœ… í˜œíƒ 0ê°œ ìˆ˜ì§‘

ğŸ« [4] ì¿ í° ì •ë³´ ìˆ˜ì§‘ ì¤‘...
   âœ… ì¿ í° 0ê°œ ìˆ˜ì§‘

ğŸ›ï¸  [5] ìƒí’ˆ ì •ë³´ ìˆ˜ì§‘ ì¤‘...
   ğŸ“¦ ìƒí’ˆ ë§í¬ 158ê°œ ë°œê²¬
   âœ… ìƒí’ˆ 5ê°œ ìˆ˜ì§‘

âœ… ë°ì´í„° ìˆ˜ì§‘ ì™„ë£Œ!
   íƒ€ì´í‹€: ì•„ì´ì˜¤í˜ XMDìŠ¤í…œ
   í–‰ì‚¬ ì¼ì: 23.10.30~23.11.14
   í˜œíƒ: 0ê°œ
   ì¿ í°: 0ê°œ
   ìƒí’ˆ: 5ê°œ

================================================================================
ğŸ’¾ Supabaseì— ë°ì´í„° ì €ì¥ ì¤‘...
================================================================================
   âœ… live_broadcasts ì €ì¥: NAVER_SHOPPING_5002337684
   âœ… ìƒí’ˆ 5ê°œ ì €ì¥
   âœ… í˜œíƒ/ì¿ í° ì •ë³´ ì €ì¥

================================================================================
âœ… Supabase ì €ì¥ ì™„ë£Œ!
================================================================================

ğŸ“ JSON íŒŒì¼ ì €ì¥: naver_shopping_NAVER_SHOPPING_5002337684_20251216_111005.json
ğŸ”š WebDriver ì¢…ë£Œ
```

---

## ğŸ’¡ ì£¼ìš” íŠ¹ì§•

### 1. ë™ì  í˜ì´ì§€ ì²˜ë¦¬
- Seleniumì„ ì‚¬ìš©í•˜ì—¬ React ê¸°ë°˜ í˜ì´ì§€ ë Œë”ë§
- í˜ì´ì§€ ìŠ¤í¬ë¡¤ë¡œ lazy loading ì½˜í…ì¸  ë¡œë“œ
- ì¶©ë¶„í•œ ëŒ€ê¸° ì‹œê°„ í™•ë³´ (5ì´ˆ + ìŠ¤í¬ë¡¤ ëŒ€ê¸°)

### 2. ìœ ì—°í•œ ë°ì´í„° ì¶”ì¶œ
- ë‹¤ì–‘í•œ CSS ì„ íƒì ì‹œë„
- ì •ê·œí‘œí˜„ì‹ íŒ¨í„´ ë§¤ì¹­
- í…ìŠ¤íŠ¸ ê¸°ë°˜ í‚¤ì›Œë“œ ê²€ìƒ‰
- ì¤‘ë³µ ì œê±° ë¡œì§

### 3. ì•ˆì •ì ì¸ ë°ì´í„° ì €ì¥
- Supabase ì—°ê²° ìƒíƒœ í™•ì¸
- ê¸°ì¡´ ë°ì´í„° í™•ì¸ í›„ insert/update
- ì—ëŸ¬ ë°œìƒ ì‹œì—ë„ JSON íŒŒì¼ ì €ì¥
- ìƒì„¸í•œ ë¡œê¹…

### 4. í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°
- í´ë˜ìŠ¤ ê¸°ë°˜ ì„¤ê³„
- ë©”ì„œë“œë³„ ê¸°ëŠ¥ ë¶„ë¦¬
- ì‰¬ìš´ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- ë‹¤ë¥¸ ë¸Œëœë“œ ì¶”ê°€ ìš©ì´

---

## ğŸ” ë°ì´í„° ì¶”ì¶œ ë¡œì§

### 1. í–‰ì‚¬ íƒ€ì´í‹€ ì¶”ì¶œ

**ë°©ë²• 1**: í˜ì´ì§€ íƒ€ì´í‹€
```python
_v_page_title = self.driver.title
```

**ë°©ë²• 2**: ì •ê·œí‘œí˜„ì‹ íŒ¨í„´
```python
patterns = [
    r'ì•„ì´ì˜¤í˜\s+[A-Z]+[ê°€-í£\s]+',
    r'[ê°€-í£]+\s+ê¸°íšì „',
    r'[ê°€-í£]+\s+í”„ë¡œëª¨ì…˜'
]
```

**ë°©ë²• 3**: HTML íƒœê·¸
```python
for tag in ['h1', 'h2', 'h3']:
    _v_heading = _v_soup.find(tag)
```

---

### 2. í–‰ì‚¬ ì¼ì ì¶”ì¶œ

**ë‚ ì§œ íŒ¨í„´**:
```python
patterns = [
    r'\d{2,4}[./-]\d{1,2}[./-]\d{1,2}\s*~\s*\d{2,4}[./-]\d{1,2}[./-]\d{1,2}',  # ê¸°ê°„
    r'\d{2,4}[./-]\d{1,2}[./-]\d{1,2}',  # ë‹¨ì¼ ë‚ ì§œ
]
```

**ì˜ˆì‹œ**:
- `25.12.15~25.12.21` âœ…
- `2025.12.15~2025.12.21` âœ…
- `25-12-15~25-12-21` âœ…

---

### 3. í˜œíƒ ì •ë³´ ì¶”ì¶œ

**ê¸ˆì•¡ëŒ€ë³„ í˜œíƒ íŒ¨í„´**:
```python
patterns = [
    r'(\d+ë§Œ?\s*ì›)\s*ì´ìƒ\s*êµ¬ë§¤\s*ì‹œ?\s*([^.]+)',
    r'ì „\s*êµ¬ë§¤\s*ê³ ê°\s*([^.]+)',
]
```

**ì˜ˆì‹œ**:
- `9ë§Œì› ì´ìƒ êµ¬ë§¤ì‹œ ì‚¬ì€í’ˆ ì¦ì •` âœ…
- `ì „ êµ¬ë§¤ ê³ ê° ì¦ì •` âœ…

---

### 4. ì¿ í° ì •ë³´ ì¶”ì¶œ

**í‚¤ì›Œë“œ ê²€ìƒ‰**:
```python
keywords = ['ì¿ í°', 'COUPON']
```

**ì¤‘ë³µ ì œê±°**:
```python
_v_unique_coupons = []
_v_seen = set()
for coupon in _v_coupons:
    if coupon['name'] not in _v_seen:
        _v_seen.add(coupon['name'])
        _v_unique_coupons.append(coupon)
```

---

### 5. ìƒí’ˆ ì •ë³´ ì¶”ì¶œ

**ìƒí’ˆ ë§í¬ ì°¾ê¸°**:
```python
_v_product_links = self.driver.find_elements(
    By.CSS_SELECTOR, 
    'a[href*="/products/"]'
)
```

**ìƒí’ˆëª… ì¶”ì¶œ**:
```python
_v_name = link.text.strip()
if not _v_name:
    _v_parent = link.find_element(By.XPATH, '..')
    _v_name = _v_parent.text.strip()
```

**ìµœëŒ€ 20ê°œ ìˆ˜ì§‘**:
```python
for idx, link in enumerate(_v_product_links[:20], 1):
```

---

## ğŸ“ ìƒì„± íŒŒì¼

### í¬ë¡¤ëŸ¬ íŒŒì¼
1. **`crawler/naver_shopping_crawler.py`** (420ì¤„)
   - ë©”ì¸ í¬ë¡¤ëŸ¬ í´ë˜ìŠ¤
   - ë°ì´í„° ìˆ˜ì§‘ ë¡œì§
   - Supabase ì €ì¥ ë¡œì§

2. **`crawler/analyze_naver_shopping_page.py`** (200ì¤„)
   - í˜ì´ì§€ êµ¬ì¡° ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸
   - ë””ë²„ê¹… ë„êµ¬

### ì¶œë ¥ íŒŒì¼
1. **`naver_shopping_NAVER_SHOPPING_5002337684_20251216_111005.json`**
   - ìˆ˜ì§‘ëœ ë°ì´í„° JSON ë°±ì—…

2. **`naver_shopping_page_source.html`**
   - í˜ì´ì§€ HTML ì†ŒìŠ¤

3. **`naver_shopping_screenshot.png`**
   - í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ·

4. **`naver_shopping_crawler.log`**
   - ì‹¤í–‰ ë¡œê·¸

---

## ğŸ”§ í™˜ê²½ ì„¤ì •

### í•„ìˆ˜ íŒ¨í‚¤ì§€

```bash
pip install selenium
pip install webdriver-manager
pip install beautifulsoup4
pip install python-dotenv
pip install supabase
```

### í™˜ê²½ ë³€ìˆ˜ (.env)

```bash
SUPABASE_URL=https://uewhvekfjjvxoioklzza.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
```

---

## ğŸ¯ ì‚¬ìš© ì˜ˆì‹œ

### ê¸°ë³¸ ì‚¬ìš©

```python
from naver_shopping_crawler import NaverShoppingCrawler

# í¬ë¡¤ëŸ¬ ì´ˆê¸°í™”
crawler = NaverShoppingCrawler()

# í¬ë¡¤ë§ ì‹¤í–‰
url = "https://brand.naver.com/iope/shoppingstory/detail?id=5002337684"
data = crawler.crawl(url, brand="ì•„ì´ì˜¤í˜")

# Supabaseì— ì €ì¥
crawler.save_to_supabase(data)

# ë¦¬ì†ŒìŠ¤ ì •ë¦¬
crawler.close()
```

### ë‹¤ë¥¸ ë¸Œëœë“œ í¬ë¡¤ë§

```python
# ì„¤í™”ìˆ˜ ê¸°íšì „
url = "https://brand.naver.com/sulwhasoo/shoppingstory/detail?id=1234567890"
data = crawler.crawl(url, brand="ì„¤í™”ìˆ˜")

# ë¼ë„¤ì¦ˆ ê¸°íšì „
url = "https://brand.naver.com/laneige/shoppingstory/detail?id=0987654321"
data = crawler.crawl(url, brand="ë¼ë„¤ì¦ˆ")
```

---

## ğŸ“Š ë°ì´í„° íë¦„

```
ë„¤ì´ë²„ ì‡¼í•‘ ì „ì‹œ í˜ì´ì§€
         â†“
    Selenium ë¡œë“œ
         â†“
    í˜ì´ì§€ ìŠ¤í¬ë¡¤
         â†“
    HTML íŒŒì‹±
         â†“
  ë°ì´í„° ì¶”ì¶œ
  â”œâ”€ íƒ€ì´í‹€
  â”œâ”€ ë‚ ì§œ
  â”œâ”€ í˜œíƒ
  â”œâ”€ ì¿ í°
  â””â”€ ìƒí’ˆ
         â†“
   Supabase ì €ì¥
   â”œâ”€ live_broadcasts
   â””â”€ live_products
         â†“
    JSON ë°±ì—…
```

---

## âš™ï¸ ìŠ¤ì¼€ì¤„ëŸ¬ í†µí•©

### dynamic_scheduler.py ìˆ˜ì •

```python
# í”Œë«í¼ë³„ í¬ë¡¤ëŸ¬ ë§¤í•‘
self.p_platform_crawlers = {
    'NAVER': 'crawl_multi_brands.py',
    'KAKAO': 'kakao_live_crawler.py',
    ...
    'NAVER_SHOPPING': 'naver_shopping_crawler.py',  # ì¶”ê°€ë¨
}
```

### ìë™ ì‹¤í–‰

```bash
# ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
python3 dynamic_scheduler.py

# 1ì‹œê°„ë§ˆë‹¤ ìë™ìœ¼ë¡œ ë„¤ì´ë²„ ì‡¼í•‘ í¬ë¡¤ëŸ¬ ì‹¤í–‰
```

---

## ğŸ› ì•Œë ¤ì§„ ì œí•œì‚¬í•­

### 1. í˜œíƒ/ì¿ í° ì¶”ì¶œ ì •í™•ë„
**ë¬¸ì œ**: í˜ì´ì§€ê°€ ë™ì ìœ¼ë¡œ ë Œë”ë§ë˜ì–´ í˜œíƒ/ì¿ í° ì •ë³´ë¥¼ ì •í™•íˆ ì¶”ì¶œí•˜ê¸° ì–´ë ¤ì›€

**ì›ì¸**: 
- React ê¸°ë°˜ SPA (Single Page Application)
- ë°ì´í„°ê°€ `__PRELOADED_STATE__`ì— JSON í˜•íƒœë¡œ ì €ì¥
- ë³µì¡í•œ JavaScript ë Œë”ë§

**í•´ê²° ë°©ë²•**:
1. **API ì§ì ‘ í˜¸ì¶œ** (ì¶”ì²œ)
   - ë„¤ì´ë²„ ì‡¼í•‘ API ì—”ë“œí¬ì¸íŠ¸ ì°¾ê¸°
   - JSON ë°ì´í„° ì§ì ‘ íŒŒì‹±

2. **ë” ê¸´ ëŒ€ê¸° ì‹œê°„**
   - í˜ì´ì§€ ë¡œë“œ í›„ 10ì´ˆ ëŒ€ê¸°
   - ìŠ¤í¬ë¡¤ í›„ 5ì´ˆ ëŒ€ê¸°

3. **JavaScript ì‹¤í–‰**
   ```python
   data = self.driver.execute_script(
       "return window.__PRELOADED_STATE__"
   )
   ```

---

### 2. ìƒí’ˆëª… ì¶”ì¶œ
**ë¬¸ì œ**: ìƒí’ˆëª…ì´ "BEST"ë¡œë§Œ ì¶”ì¶œë¨

**ì›ì¸**:
- ìƒí’ˆ ë§í¬ì˜ í…ìŠ¤íŠ¸ê°€ "BEST" ë¼ë²¨
- ì‹¤ì œ ìƒí’ˆëª…ì€ ë‹¤ë¥¸ ìš”ì†Œì— ìˆìŒ

**í•´ê²° ë°©ë²•**:
1. **ë” êµ¬ì²´ì ì¸ ì„ íƒì ì‚¬ìš©**
   ```python
   name_elem = link.find_element(
       By.CSS_SELECTOR, 
       '.product-name, .product-title'
   )
   ```

2. **ìƒí’ˆ í˜ì´ì§€ ë°©ë¬¸**
   ```python
   self.driver.get(product_url)
   name = self.driver.find_element(By.CSS_SELECTOR, 'h1').text
   ```

---

## ğŸ”„ ê°œì„  ë°©ì•ˆ

### 1. API ê¸°ë°˜ í¬ë¡¤ë§

**í˜„ì¬ ë°©ì‹**: Selenium + HTML íŒŒì‹±
**ê°œì„  ë°©ì‹**: API ì§ì ‘ í˜¸ì¶œ

```python
import requests

def fetch_api_data(event_id):
    url = f"https://brand.naver.com/api/shoppingstory/{event_id}"
    response = requests.get(url)
    return response.json()
```

**ì¥ì **:
- âœ… ë¹ ë¥¸ ì†ë„
- âœ… ì •í™•í•œ ë°ì´í„°
- âœ… ë‚®ì€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©

---

### 2. ìƒí’ˆ ìƒì„¸ ì •ë³´ ìˆ˜ì§‘

**ì¶”ê°€ ìˆ˜ì§‘ í•­ëª©**:
- ìƒí’ˆ ì´ë¯¸ì§€
- ì •ê°€/íŒë§¤ê°€
- í• ì¸ìœ¨
- ì¬ê³  ìƒíƒœ
- ë¦¬ë·° ìˆ˜
- í‰ì 

**êµ¬í˜„**:
```python
def _collect_product_details(self, product_url):
    self.driver.get(product_url)
    return {
        'image': self.driver.find_element(...).get_attribute('src'),
        'price': self.driver.find_element(...).text,
        'stock': self.driver.find_element(...).text,
    }
```

---

### 3. ë‹¤ì¤‘ URL ì§€ì›

**í˜„ì¬**: ë‹¨ì¼ URLë§Œ ì²˜ë¦¬
**ê°œì„ **: URL ë¦¬ìŠ¤íŠ¸ ì²˜ë¦¬

```python
def crawl_multiple(self, urls, brand):
    results = []
    for url in urls:
        data = self.crawl(url, brand)
        results.append(data)
    return results
```

---

### 4. ì—ëŸ¬ ë³µêµ¬

**í˜„ì¬**: ì—ëŸ¬ ë°œìƒ ì‹œ ì¤‘ë‹¨
**ê°œì„ **: ì¬ì‹œë„ ë¡œì§

```python
def crawl_with_retry(self, url, brand, max_retries=3):
    for attempt in range(max_retries):
        try:
            return self.crawl(url, brand)
        except Exception as e:
            if attempt == max_retries - 1:
                raise
            logger.warning(f"ì¬ì‹œë„ {attempt+1}/{max_retries}")
            time.sleep(5)
```

---

## ğŸ“š ì°¸ê³  ìë£Œ

### ë„¤ì´ë²„ ì‡¼í•‘ í˜ì´ì§€ êµ¬ì¡°

**URL íŒ¨í„´**:
```
https://brand.naver.com/{brand}/shoppingstory/detail?id={event_id}
```

**ì˜ˆì‹œ**:
- ì•„ì´ì˜¤í˜: `https://brand.naver.com/iope/shoppingstory/detail?id=5002337684`
- ì„¤í™”ìˆ˜: `https://brand.naver.com/sulwhasoo/shoppingstory/detail?id=...`

---

### CSS ì„ íƒì

**ìƒí’ˆ ë§í¬**:
```css
a[href*="/products/"]
```

**ì œëª© ìš”ì†Œ**:
```css
h1, h2, h3
[class*="title"]
[class*="heading"]
```

**ë‚ ì§œ ìš”ì†Œ**:
```css
[class*="date"]
[class*="period"]
```

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê°œë°œ ì™„ë£Œ
- [x] í˜ì´ì§€ êµ¬ì¡° ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸
- [x] ë©”ì¸ í¬ë¡¤ëŸ¬ ê°œë°œ
- [x] íƒ€ì´í‹€ ì¶”ì¶œ
- [x] ë‚ ì§œ ì¶”ì¶œ
- [x] í˜œíƒ ì •ë³´ ì¶”ì¶œ
- [x] ì¿ í° ì •ë³´ ì¶”ì¶œ
- [x] ìƒí’ˆ ì •ë³´ ì¶”ì¶œ
- [x] Supabase ì €ì¥
- [x] JSON ë°±ì—…
- [x] ë¡œê¹… ì‹œìŠ¤í…œ
- [x] ì—ëŸ¬ ì²˜ë¦¬

### í†µí•© ì™„ë£Œ
- [x] ìŠ¤ì¼€ì¤„ëŸ¬ í†µí•©
- [x] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [x] í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- [x] ë¬¸ì„œ ì‘ì„±

### ë°°í¬ ì¤€ë¹„
- [x] ì½”ë“œ ì •ë¦¬
- [x] ì£¼ì„ ì¶”ê°€
- [x] README ì‘ì„±
- [x] ì‹¤í–‰ ê°€ì´ë“œ

---

## ğŸ‰ ì‘ì—… ì™„ë£Œ!

**ë„¤ì´ë²„ ì‡¼í•‘ ì „ì‹œ í˜ì´ì§€ í¬ë¡¤ëŸ¬ ê°œë°œ ì™„ë£Œ!**

**ì£¼ìš” ì„±ê³¼**:
- âœ… ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ì‡¼í•‘ìŠ¤í† ë¦¬ í˜ì´ì§€ í¬ë¡¤ë§
- âœ… í–‰ì‚¬ ì •ë³´ ìë™ ìˆ˜ì§‘
- âœ… Supabase ë°ì´í„° ì €ì¥
- âœ… ìŠ¤ì¼€ì¤„ëŸ¬ í†µí•©
- âœ… 1ì‹œê°„ë§ˆë‹¤ ìë™ ì‹¤í–‰

**ë‹¤ìŒ ë‹¨ê³„**:
1. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°ì´í„° í‘œì‹œ í™•ì¸
2. ë‹¤ë¥¸ ë¸Œëœë“œ URL ì¶”ê°€
3. API ê¸°ë°˜ í¬ë¡¤ë§ìœ¼ë¡œ ê°œì„ 
4. ìƒí’ˆ ìƒì„¸ ì •ë³´ ìˆ˜ì§‘

---

**Â© 2025 Amore Pacific. All Rights Reserved.**
