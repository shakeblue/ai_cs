# Netlify 배포 설정
[build]
  # 빌드 명령어
  command = "cd frontend && npm install && npm run build"
  
  # 배포할 디렉토리
  publish = "frontend/build"
  
  # Node.js 버전
  [build.environment]
    NODE_VERSION = "18"

# SPA 라우팅 설정 (React Router 지원)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# 헤더 설정 (캐싱 최적화)
[[headers]]
  for = "/static/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/*.js"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/*.css"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/index.html"
  [headers.values]
    Cache-Control = "no-cache"
