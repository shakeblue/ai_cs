# 설화수 라이브 방송 정보 수집 가이드

## 📋 개요

네이버 쇼핑라이브에서 설화수 브랜드의 **개별 방송 하나하나**에서 수집정보 문서의 **8개 카테고리 전체**를 수집합니다.

**수집 단위**: 각 방송 URL (예: `https://view.shoppinglive.naver.com/replays/1728436`)

---

## 🎯 수집 정보 (8개 카테고리)

### 1) 기본 정보 (Metadata)

| 필드명 | 설명 | 예시 |
|-------|------|------|
| `live_id` | 내부 ID | `NAVER_SULWHASOO_001` |
| `platform_name` | 플랫폼명 | `네이버` |
| `brand_name` | 브랜드 | `설화수` |
| `live_title_customer` | 고객용 방송명 | `설화수 윤조 에센스 특별 방송` |
| `live_title_cs` | CS용 요약 | `설화수 12월 네이버 라이브 윤조 에센스` |
| `source_url` | 원천 URL | `https://view.shoppinglive.naver.com/replays/1764981` |
| `thumbnail_url` | 썸네일 이미지 | (URL) |
| `status` | 방송 상태 | `라이브` / `다시보기` / `예정` |

### 2) 방송 스케줄 & 혜택 유효시간

| 필드명 | 설명 | 예시 |
|-------|------|------|
| `broadcast_date` | 방송일자 | `2025-11-29` |
| `broadcast_start_time` | 방송 시작 | `15:00` |
| `broadcast_end_time` | 방송 종료 | `16:30` |
| `benefit_valid_type` | 혜택 유효 타입 | `당일23:59` / `방송 중만` / `기간형` |
| `benefit_start_datetime` | 혜택 시작 | `2025-11-29 00:00:00` |
| `benefit_end_datetime` | 혜택 종료 | `2025-11-29 23:59:59` |
| `broadcast_type` | 방송 형태 | `단독라이브` / `콜라보` |

### 3) 판매 상품 정보

각 상품마다 다음 정보 수집:

| 필드명 | 설명 | 예시 |
|-------|------|------|
| `product_order` | 상품 순서 | `1`, `2`, `3` |
| `product_name` | 상품명 | `윤조에센스 인텐시브 리뉴잉` |
| `sku` | SKU 코드 | `SWS-YJ-001` |
| `original_price` | 정가 | `236,000원` |
| `sale_price` | 판매가 | `189,000원` |
| `discount_rate` | 할인율 | `20%` |
| `product_type` | 상품 구분 | `대표` / `일반` / `세트` |
| `stock_info` | 재고 정보 | `재고 충분` / `한정 50세트` |
| `set_composition` | 세트 구성 | (세트인 경우 상세 구성) |
| `product_url` | 상품 URL | (상품 상세 페이지 링크) |

### 4) 혜택(Promotion) 구조

#### 4-a) 할인

| 필드명 | 설명 |
|-------|------|
| `discount_type` | `%할인` / `금액할인` / `타임특가` |
| `discount_detail` | 할인 상세 설명 |
| `discount_condition` | 적용 조건 |
| `discount_valid_period` | 유효 기간 |

#### 4-b) 사은품(GWP)

| 필드명 | 설명 |
|-------|------|
| `gift_type` | `구매조건형` / `증정형` / `선착순형` |
| `gift_name` | 사은품명 |
| `gift_condition` | 증정 조건 |
| `gift_quantity_limit` | 수량 제한 |

#### 4-c) 쿠폰/적립

| 필드명 | 설명 |
|-------|------|
| `coupon_type` | `브랜드쿠폰` / `플랫폼쿠폰` / `라이브쿠폰` / `장바구니쿠폰` |
| `coupon_detail` | 쿠폰 상세 |
| `coupon_issue_condition` | 발급 조건 |
| `point_condition` | 적립 조건 |

#### 4-d) 배송 혜택

| 필드명 | 설명 |
|-------|------|
| `shipping_type` | `무료배송` / `특급배송` / `선물포장` |
| `shipping_detail` | 배송 상세 |
| `shipping_condition` | 적용 조건 |

### 5) 중복 적용 정책 (Risk Point 핵심)

| 필드명 | 설명 | 예시 |
|-------|------|------|
| `coupon_duplicate` | 쿠폰 중복 가능 여부 | `가능` / `불가` |
| `point_duplicate` | 적립 중복 가능 여부 | `가능` / `불가` |
| `other_promotion_duplicate` | 타 행사 중복 | `타행사 할인 불가` |
| `employee_discount` | 임직원 할인 적용 | `불가` / `가능 (일부)` |
| `duplicate_note` | 중복 정책 상세 | (자세한 설명) |

### 6) 제외 / 제한 사항 (필수)

| 필드명 | 설명 | 예시 |
|-------|------|------|
| `excluded_products` | 제외 상품 | `['윤조 리미티드 에디션']` |
| `channel_restrictions` | 채널 제한 | `['네이버 앱/웹만']` |
| `payment_restrictions` | 결제수단 제한 | `['네이버페이 사용 시 추가 혜택']` |
| `region_restrictions` | 지역/배송 제한 | `['도서산간 배송비 5,000원']` |
| `other_restrictions` | 기타 제한 | `['품절 시 조기 종료']` |

### 7) 라이브 특화 정보 (STT 기반)

| 필드명 | 설명 | 예시 |
|-------|------|------|
| `key_mentions` | 핵심 세일즈 멘트 (3~5개) | `["설화수의 대표 제품 윤조에센스! 오늘만 20% 특가입니다"]` |
| `broadcast_qa` | 시청자 Q&A | `[{ question: "...", answer: "..." }]` |
| `timeline` | 타임라인 요약 | `[{ time: "00:00", description: "방송 시작" }]` |

### 8) CS 응대용 정보

| 필드명 | 설명 | 예시 |
|-------|------|------|
| `expected_questions` | 예상 질문 목록 | `["가격이 얼마인가요?", ...]` |
| `response_scripts` | 응답 스크립트 | `["정가 236,000원에서 20% 할인된 189,000원입니다."]` |
| `risk_points` | 리스크 포인트 (경고) | `["⚠️ 쿠폰 중복 사용 불가", ...]` |
| `cs_note` | CS 노트 (추가 안내) | (상세 설명) |

---

## 📊 현재 구축된 설화수 방송 (5개)

### 1️⃣ 설화수 윤조 에센스 특별 방송
- **방송일**: 2025-11-29 15:00~16:30
- **상품**: 윤조에센스 20% 할인 (189,000원)
- **혜택**: 당일 23:59까지
- **상태**: 다시보기 ✅

### 2️⃣ 설화수 자음생크림 겨울 보습 특집
- **방송일**: 2025-11-28 14:00~15:00
- **상품**: 자음생크림 30% 할인 (132,300원), 2종 세트 35% 할인
- **혜택**: 한정 100세트
- **상태**: 다시보기 ✅

### 3️⃣ 설화수 순행클렌징 라인 단독 혜택
- **방송일**: 2025-11-30 16:00~17:00
- **상품**: 순행클렌징 전체 30% 할인, 2종 세트 45% 할인
- **혜택**: 방송 중만 적용 (⚠️ 주의!)
- **상태**: 라이브 🔴

### 4️⃣ 설화수 퍼펙팅쿠션 1+1 특별 기획
- **방송일**: 2025-12-01 19:00~20:00
- **상품**: 퍼펙팅쿠션 본품+리필 20% 할인, 2개 세트 34% 할인
- **혜택**: 당일 23:59까지
- **상태**: 예정 📅

### 5️⃣ 설화수 겨울 한정 럭셔리 스킨케어 세트
- **방송일**: 2025-12-05 20:00~21:30
- **상품**: 윤조 럭셔리 5종 세트 30% 할인 (595,000원)
- **혜택**: 12월 10일까지 (기간형)
- **상태**: 예정 📅

---

## 🔍 검색 및 상세 보기 방법

### 1. 검색창에서 찾기

```
검색어: "설화수"
→ 5개 방송 모두 표시

검색어: "윤조"
→ 윤조 관련 방송 2개 표시

검색어: "자음생"
→ 자음생 관련 방송 2개 표시

검색어: "순행클렌징"
→ 순행클렌징 방송 1개 표시

검색어: "쿠션"
→ 퍼펙팅쿠션 방송 1개 표시
```

### 2. 상세 보기 클릭

각 방송 카드에서 **"상세보기"** 버튼 클릭 시:

1. `/live/{live_id}` 페이지로 이동
2. 수집정보 문서의 **8개 카테고리 전체** 표시
3. 50+ 개 항목의 상세 정보 확인 가능

### 3. 표시되는 정보 섹션

상세 페이지에서 다음 섹션들이 표시됩니다:

- ✅ **기본 정보**: 플랫폼, 브랜드, 라이브명, URL
- ✅ **방송 스케줄**: 방송 일시, 혜택 유효 기간
- ✅ **판매 상품**: 상품명, 가격, 할인율, 재고 (테이블)
- ✅ **혜택 카드**: 할인, 사은품, 쿠폰, 배송 (4개 카드)
- ✅ **중복 적용 정책**: 쿠폰/적립 중복 여부 (경고 박스)
- ✅ **제외/제한 사항**: 제외 상품, 채널 제한 등
- ✅ **라이브 특화 정보**: 핵심 멘트, Q&A, 타임라인 (접고 펼치기)
- ✅ **CS 응대용 정보**: 예상 질문, 응답 스크립트, 리스크 포인트 (접고 펼치기)

---

## 💻 기술 구현

### 1. Mock 데이터 파일

```javascript
// frontend/src/mockData/sulwhasooLivesData.js

export const sulwhasooLivesData = [
  {
    metadata: { ... },      // 1) 기본 정보
    schedule: { ... },      // 2) 방송 스케줄
    products: [ ... ],      // 3) 판매 상품
    benefits: {
      discounts: [ ... ],   // 4-a) 할인
      gifts: [ ... ],       // 4-b) 사은품
      coupons: [ ... ],     // 4-c) 쿠폰
      shipping: [ ... ]     // 4-d) 배송
    },
    duplicate_policy: { ... },  // 5) 중복 적용 정책
    restrictions: { ... },      // 6) 제외/제한 사항
    live_specific: { ... },     // 7) 라이브 특화 정보
    cs_info: { ... }            // 8) CS 응대용 정보
  },
  // ... 총 5개 방송
];
```

### 2. 검색 통합

```javascript
// frontend/src/pages/SearchEvents.jsx

import { searchSulwhasooLives } from '../mockData/sulwhasooLivesData';

const handleSearch = async () => {
  // ...
  const sulwhasooLiveEvents = searchSulwhasooLives(filters.keyword);
  
  const mockEvents = [
    ...innisfreeEvents,
    ...naverLiveEvents,
    ...naverLiveAsEvents,
    ...allBrandsEvents,
    ...sulwhasooLiveEvents,  // 설화수 5개 방송 추가
  ];
  
  setEvents(mockEvents);
};
```

### 3. 상세 페이지 로드

```javascript
// frontend/src/pages/LiveBroadcastDetail.jsx

import { getSulwhasooLiveDetail } from '../mockData/sulwhasooLivesData';

useEffect(() => {
  // 1. 네이버 라이브 상세 데이터 확인
  let data = getLiveDetailById(liveId);
  
  // 2. 설화수 라이브 데이터 확인
  if (!data) {
    data = getSulwhasooLiveDetail(liveId);
  }
  
  if (data) {
    setLiveData(data);
  }
}, [liveId]);
```

---

## 🎬 실제 크롤링 방법

### 1. 크롤러 실행

```bash
cd "/Users/amore/ai_cs 시스템/crawler"

# 설화수 브랜드 전체 방송 크롤링
python3 parsers/naver_sulwhasoo_crawler.py
```

### 2. 크롤링 프로세스

```
1. 검색 페이지 접속
   https://shoppinglive.naver.com/search/lives?query=%EC%84%A4%ED%99%94%EC%88%98

2. 방송 목록 수집 (최대 5개)
   - 제목, URL, 썸네일, 상태

3. 각 방송의 상세 페이지 접속
   예: https://view.shoppinglive.naver.com/replays/1728436

4. 수집정보 문서의 8개 카테고리 전체 수집
   ✅ 1) 기본 정보
   ✅ 2) 방송 스케줄
   ✅ 3) 판매 상품 정보
   ✅ 4) 혜택 구조 (할인/사은품/쿠폰/배송)
   ✅ 5) 중복 적용 정책
   ✅ 6) 제외/제한 사항
   ✅ 7) 라이브 특화 정보
   ✅ 8) CS 응대용 정보

5. JSON 파일 생성
   crawler/output/sulwhasoo_lives_YYYYMMDD_HHMMSS.json

6. Mock 데이터 JS 파일 생성
   frontend/src/mockData/sulwhasooLivesData.js
```

### 3. 크롤링 결과 확인

```bash
# 크롤링된 JSON 파일 확인
cat crawler/output/sulwhasoo_lives_*.json | jq .

# Mock 데이터 파일 확인
cat frontend/src/mockData/sulwhasooLivesData.js
```

---

## 📖 CS 상담원 활용 예시

**고객**: "설화수 자음생크림 라이브 방송 혜택이 뭐가 있나요?"

**상담원** (시스템 조회):
1. 검색창에 "자음생" 입력
2. "설화수 자음생크림 겨울 보습 특집" 카드 찾기
3. "상세보기" 클릭

**결과 확인**:
```
설화수 자음생크림 겨울 보습 특집
- 방송일: 2025-11-28 14:00~15:00
- 방송 상태: 다시보기

판매 상품:
1. 자음생크림 60ml: 189,000원 → 132,300원 (30% 할인)
2. 자음생 아이크림 25ml: 115,000원 → 86,250원 (25% 할인)
3. 자음생 2종 겨울 세트: 304,000원 → 199,000원 (35% 할인, 한정 100세트)

혜택:
- 할인: 자음생크림 30%, 세트 35%
- 사은품: 15만원 이상 - 에멀젼 미니 30ml
         선착순 200명 - 겨울 한정 파우치
         전원 - 샘플 5종
- 쿠폰: 브랜드 쿠폰 15,000원 OR 네이버페이 20,000원 (중 1개 선택)
- 배송: 무료배송 + 서울/경기 특급배송

중복 정책:
⚠️ 쿠폰 중복 사용 불가 (1개만 선택)
✅ 적립 중복 가능 (네이버페이 5% 적립)

제한 사항:
- 기획세트, 대용량 제품 제외
- 도서산간 배송비 5,000원 별도
- 혜택은 당일 23:59까지
```

**상담원 답변**:
> "네, 설화수 자음생크림 겨울 보습 특집 방송이 11월 28일에 진행되었습니다!
> 
> - 자음생크림 60ml: 189,000원 → 132,300원 (30% 할인)
> - 자음생 2종 세트: 304,000원 → 199,000원 (35% 할인)
>   ⚠️ 한정 100세트만 준비되어 있습니다
> 
> 추가 혜택:
> - 15만원 이상 구매 시: 자음생 에멀젼 미니 30ml
> - 선착순 200명: 겨울 한정 파우치
> - 전원: 자음생 샘플 5종
> 
> 쿠폰은 브랜드 쿠폰 15,000원 또는 네이버페이 쿠폰 20,000원 중
> 하나만 사용 가능하며, 네이버페이 5% 적립은 별도로 받으실 수 있습니다.
> 
> 혜택은 오늘 자정(23:59)까지 적용됩니다!"

---

## 🚀 실행 방법

### 프론트엔드 실행

```bash
cd "/Users/amore/ai_cs 시스템/frontend"
PORT=3001 npm start
```

### 브라우저에서 확인

```
http://localhost:3001/search

1. 검색창에 "설화수" 입력
2. 검색 버튼 클릭
3. 5개 방송 카드 확인
4. 원하는 방송의 "상세보기" 클릭
5. 수집정보 문서의 8개 카테고리 전체 확인
```

---

## ✨ 완성!

**설화수 라이브 방송 5개**, 각각 **수집정보 문서의 8개 카테고리**(50+ 항목)를 모두 포함한 시스템이 완성되었습니다!

- ✅ 검색: "설화수" → 5개 방송 표시
- ✅ 상세보기: 각 방송의 8개 카테고리 전체 표시
- ✅ CS 상담: 완벽한 정보 제공으로 고객 응대 가능
- ✅ Risk Point: 중복 정책, 제한 사항 명확히 표시

**수집 단위**: 개별 방송 하나하나 ✅  
**수집 항목**: 8개 카테고리 전체 ✅  
**실제 URL 기반**: `https://view.shoppinglive.naver.com/replays/XXXXXX` ✅

